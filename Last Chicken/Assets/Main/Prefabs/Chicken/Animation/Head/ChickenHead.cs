using System.Collections;
using System.Collections.Generic;
using UnityEngine;

public class ChickenHead : MonoBehaviour
{
    Animator animator;
    public RuntimeAnimatorController headAniController;
    float cryTime = 3;

    ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

    #region[Awake]
    void Awake()
    {
        animator = gameObject.AddComponent<Animator>();
        animator.runtimeAnimatorController = headAniController;
    }
    #endregion

    #region[Update]
    private void Update()
    {
        ChickenCry();
    }
    #endregion

    #region[OnEnable]
    private void OnEnable()
    {
        cryTime = 3;
    }
    #endregion

    #region[OnDisable]
    private void OnDisable()
    {
        SoundManager.instance.StopSE_Sound();
    }
    #endregion

    ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

    #region[닭 울기]
    void ChickenCry()
    {
        cryTime -= Time.deltaTime;
        if (cryTime < 0)
        {
            animator.SetBool("Coco", false);

            cryTime = Random.Range(3, 11);

            //우는 시간이 6초 이상이고 땅에 서있으면 꼬기오하고 울음
            if (cryTime >= 10)
            {
                animator.SetBool("Coco", true);
            }
            cryTime = 180;
            animator.SetTrigger("Cry");
        }
    }
    #endregion

}
