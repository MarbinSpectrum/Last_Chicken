using Custom;
using System.Collections.Generic;
using UnityEngine;
using TerrainEngine2D;

public class SmithyMap01 : EventMap
{
    ///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    ///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    ///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    ///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    ///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

    #region[Awake]
    public override void Awake()
    {
        base.Awake();

        GroundManager.instance.eventMapData = Resources.Load("TerrainData/Smithy/Smithy01") as Texture2D;
        GroundManager.instance.eventMapBackData = Resources.Load("TerrainData/Smithy/SmithyBackData01") as Texture2D;

        EventMapSetting(ExitDic.오른쪽, 1);
    }
    #endregion

    #region[GenerateData]
    public override void GenerateData()
    {
        base.GenerateData();

        SetGround();
        SetBackGround();
        SetFluidOutline();
        SetObject();
        GenerateBackGround();
        GenerateGround();
        //CameraController.Instance.SetOffset(12);
        GroundManager.instance.Init(world);
    }
    #endregion

    ///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    ///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    ///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    ///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    ///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

    #region[오브젝트 설치]
    public virtual void SetObject()
    {
        if (GroundManager.instance.eventMapMainObjectPos != Vector2.zero)
            ObjectManager.instance.Smithy(GroundManager.instance.eventMapMainObjectPos);

        for (int i = 0; i < GroundManager.instance.eventMapTreasurePos.Count; i++)
            ObjectManager.instance.TreasureBox(GroundManager.instance.eventMapTreasurePos[i]);
    }
    #endregion

    ///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    ///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    ///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    ///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    ///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}
